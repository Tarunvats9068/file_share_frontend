{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Downloads\\\\file-share-main\\\\easyshare\\\\src\\\\components\\\\Download.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from \"react\";\nimport axios from \"axios\";\nimport download from \"downloadjs\";\nimport \"../stylesheets/download.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst baseURL = process.env.REACT_APP_BASEURL || \"http://localhost:5000\";\nlet frontURL = \"\";\nif (baseURL === \"http://localhost:5000\") {\n  frontURL = \"http://localhost:3000\";\n}\nconst Download = props => {\n  _s();\n  useEffect(() => {\n    const id = props.match.params.id;\n    axios.get(`${baseURL}/api/file/${id}`).then(file => {\n      const downloadFile = file.data;\n      download(Uint8Array.from(downloadFile.data.Body.data).buffer, downloadFile.file.file_name, downloadFile.file.file_mimetype);\n    }).then(() => window.setTimeout(() => {\n      window.location.replace(frontURL || baseURL);\n    }, 1000)).catch(err => {\n      if (err.message) {\n        alert(\"No such file is available in the server!\");\n        window.location.replace(baseURL || frontURL);\n      } else {\n        console.log(JSON.stringify(err));\n      }\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"prompt\",\n    children: \"Downloading the file...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 12\n  }, this);\n};\n_s(Download, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = Download;\nexport default Download;\nvar _c;\n$RefreshReg$(_c, \"Download\");","map":{"version":3,"names":["React","useEffect","axios","download","jsxDEV","_jsxDEV","baseURL","process","env","REACT_APP_BASEURL","frontURL","Download","props","_s","id","match","params","get","then","file","downloadFile","data","Uint8Array","from","Body","buffer","file_name","file_mimetype","window","setTimeout","location","replace","catch","err","message","alert","console","log","JSON","stringify","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/HP/Downloads/file-share-main/easyshare/src/components/Download.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport axios from \"axios\";\nimport download from \"downloadjs\"; \nimport \"../stylesheets/download.css\";\n\nconst baseURL = process.env.REACT_APP_BASEURL || \"http://localhost:5000\";\nlet frontURL = \"\";\nif (baseURL === \"http://localhost:5000\") {\n    frontURL = \"http://localhost:3000\";\n}\n\nconst Download = (props) => {\n    useEffect(() => {\n        const id = props.match.params.id;\n        axios\n            .get(`${baseURL}/api/file/${id}`)\n            .then((file) => {\n                const downloadFile = file.data;\n                download(\n                    Uint8Array.from(downloadFile.data.Body.data).buffer,\n                    downloadFile.file.file_name,\n                    downloadFile.file.file_mimetype\n                );\n            })\n            .then(() =>\n                window.setTimeout(() => {\n                    window.location.replace(frontURL || baseURL);\n                }, 1000)\n            )\n            .catch((err) => {\n                if (err.message) {\n                    alert(\"No such file is available in the server!\");\n                    window.location.replace(baseURL || frontURL);\n                } else {\n                    console.log(JSON.stringify(err));\n                }\n            });\n    }, []);\n    return <p className=\"prompt\">Downloading the file...</p>;\n};\n\nexport default Download;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,QAAQ,MAAM,YAAY;AACjC,OAAO,6BAA6B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErC,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,uBAAuB;AACxE,IAAIC,QAAQ,GAAG,EAAE;AACjB,IAAIJ,OAAO,KAAK,uBAAuB,EAAE;EACrCI,QAAQ,GAAG,uBAAuB;AACtC;AAEA,MAAMC,QAAQ,GAAIC,KAAK,IAAK;EAAAC,EAAA;EACxBZ,SAAS,CAAC,MAAM;IACZ,MAAMa,EAAE,GAAGF,KAAK,CAACG,KAAK,CAACC,MAAM,CAACF,EAAE;IAChCZ,KAAK,CACAe,GAAG,CAAE,GAAEX,OAAQ,aAAYQ,EAAG,EAAC,CAAC,CAChCI,IAAI,CAAEC,IAAI,IAAK;MACZ,MAAMC,YAAY,GAAGD,IAAI,CAACE,IAAI;MAC9BlB,QAAQ,CACJmB,UAAU,CAACC,IAAI,CAACH,YAAY,CAACC,IAAI,CAACG,IAAI,CAACH,IAAI,CAAC,CAACI,MAAM,EACnDL,YAAY,CAACD,IAAI,CAACO,SAAS,EAC3BN,YAAY,CAACD,IAAI,CAACQ,aAAa,CAClC;IACL,CAAC,CAAC,CACDT,IAAI,CAAC,MACFU,MAAM,CAACC,UAAU,CAAC,MAAM;MACpBD,MAAM,CAACE,QAAQ,CAACC,OAAO,CAACrB,QAAQ,IAAIJ,OAAO,CAAC;IAChD,CAAC,EAAE,IAAI,CAAC,CACX,CACA0B,KAAK,CAAEC,GAAG,IAAK;MACZ,IAAIA,GAAG,CAACC,OAAO,EAAE;QACbC,KAAK,CAAC,0CAA0C,CAAC;QACjDP,MAAM,CAACE,QAAQ,CAACC,OAAO,CAACzB,OAAO,IAAII,QAAQ,CAAC;MAChD,CAAC,MAAM;QACH0B,OAAO,CAACC,GAAG,CAACC,IAAI,CAACC,SAAS,CAACN,GAAG,CAAC,CAAC;MACpC;IACJ,CAAC,CAAC;EACV,CAAC,EAAE,EAAE,CAAC;EACN,oBAAO5B,OAAA;IAAGmC,SAAS,EAAC,QAAQ;IAAAC,QAAA,EAAC;EAAuB;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QAAI;AAC5D,CAAC;AAAChC,EAAA,CA5BIF,QAAQ;AAAAmC,EAAA,GAARnC,QAAQ;AA8Bd,eAAeA,QAAQ;AAAC,IAAAmC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}